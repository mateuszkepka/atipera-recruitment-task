<div class="periodic-table-value">
  {{ value() }}
  <button
    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"
    mat-icon-button
    (click)="isOpen.set(!isOpen())"
  >
    <mat-icon>edit</mat-icon>
  </button>

  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="trigger"
    [cdkConnectedOverlayOpen]="isOpen()"
    (overlayOutsideClick)="isOpen.set(!isOpen())"
  >
    <div class="periodic-table-value-edit-overlay">
        <mat-form-field>
            <mat-label>{{ config().columnName }}</mat-label>
            <input #input [type]="config().dataType" matInput [value]="value()">
        </mat-form-field>

      <div class="periodic-table-value-edit-overlay-buttons">
          <button mat-flat-button (click)="value.set(input.value); isOpen.set(false)">Confirm</button>
          <button mat-stroked-button (click)="isOpen.set(false)">Cancel</button>
      </div>
    </div>
  </ng-template>
</div>
